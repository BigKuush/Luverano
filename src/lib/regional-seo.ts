// Региональное SEO для всех городов России
export const regionalSeoConfig = {
  // Основные регионы
  regions: {
    moscow: {
      name: "Москва",
      keywords: [
        "мебель москва",
        "мебель для дачи москва",
        "премиум мебель москва",
        "мебель загородный дом москва",
        "мебель на заказ москва",
        "мебель для террасы москва",
        "мебель московская область"
      ],
      delivery: "1-3 дня",
      description: "Доставка премиальной мебели по Москве и Московской области"
    },
    spb: {
      name: "Санкт-Петербург",
      keywords: [
        "мебель санкт-петербург",
        "мебель для дачи спб",
        "премиум мебель питер",
        "мебель загородный дом спб",
        "мебель на заказ санкт-петербург",
        "мебель для террасы спб",
        "мебель ленинградская область"
      ],
      delivery: "2-4 дня",
      description: "Доставка премиальной мебели по Санкт-Петербургу и Ленинградской области"
    },
    krasnodar: {
      name: "Краснодар",
      keywords: [
        "мебель краснодар",
        "мебель для дачи краснодарский край",
        "премиум мебель краснодар",
        "мебель загородный дом краснодар",
        "мебель на заказ краснодар",
        "мебель для террасы краснодар",
        "мебель сочи"
      ],
      delivery: "3-5 дней",
      description: "Доставка премиальной мебели по Краснодарскому краю"
    },
    yekaterinburg: {
      name: "Екатеринбург",
      keywords: [
        "мебель екатеринбург",
        "мебель для дачи екатеринбург",
        "премиум мебель екатеринбург",
        "мебель загородный дом екатеринбург",
        "мебель на заказ екатеринбург",
        "мебель для террасы екатеринбург",
        "мебель свердловская область"
      ],
      delivery: "3-5 дней",
      description: "Доставка премиальной мебели по Свердловской области"
    },
    novosibirsk: {
      name: "Новосибирск",
      keywords: [
        "мебель новосибирск",
        "мебель для дачи новосибирск",
        "премиум мебель новосибирск",
        "мебель загородный дом новосибирск",
        "мебель на заказ новосибирск",
        "мебель для террасы новосибирск",
        "мебель новосибирская область"
      ],
      delivery: "4-6 дней",
      description: "Доставка премиальной мебели по Новосибирской области"
    },
    chechnya: {
      name: "Грозный",
      keywords: [
        "мебель грозный",
        "мебель для дачи чечня",
        "премиум мебель грозный",
        "мебель загородный дом чечня",
        "мебель на заказ грозный",
        "мебель для террасы чечня",
        "мебель чеченская республика"
      ],
      delivery: "5-7 дней",
      description: "Доставка премиальной мебели по Чеченской Республике"
    },
    dagestan: {
      name: "Махачкала",
      keywords: [
        "мебель махачкала",
        "мебель для дачи дагестан",
        "премиум мебель махачкала",
        "мебель загородный дом дагестан",
        "мебель на заказ махачкала",
        "мебель для террасы дагестан",
        "мебель республика дагестан"
      ],
      delivery: "5-7 дней",
      description: "Доставка премиальной мебели по Республике Дагестан"
    }
  },

  // Генерация SEO текста для региона
  generateRegionalText: (regionCode: string, productName: string) => {
    const region = regionalSeoConfig.regions[regionCode as keyof typeof regionalSeoConfig.regions]
    if (!region) return ""

    return `
      <h2>${productName} - премиальная мебель для загородного дома в ${region.name}</h2>
      <p>${productName} от Luverano - это премиальная мебель для загородного дома, 
      которая идеально подходит для климата ${region.name}. 
      ${region.description} в течение ${region.delivery}.</p>
      
      <h3>Почему выбирают Luverano в ${region.name}:</h3>
      <ul>
        <li>Адаптация к местному климату</li>
        <li>Быстрая доставка по ${region.name}</li>
        <li>Местная служба поддержки</li>
        <li>Гарантия качества</li>
      </ul>
    `
  },

  // Генерация мета-тегов для региона
  generateRegionalMeta: (regionCode: string, productName: string) => {
    const region = regionalSeoConfig.regions[regionCode as keyof typeof regionalSeoConfig.regions]
    if (!region) return {}

    return {
      title: `${productName} в ${region.name} - Luverano`,
      description: `Премиальная мебель ${productName} в ${region.name}. ${region.description}. Заказать можно на сайте Luverano.`,
      keywords: region.keywords.join(", ")
    }
  }
}

// Определение региона по IP (для автоматического SEO)
export const detectRegion = (ip: string) => {
  // Простая логика определения региона по IP
  // В реальном проекте можно использовать GeoIP сервисы
  const regionMap: { [key: string]: string } = {
    '77.': 'moscow',
    '78.': 'spb', 
    '93.': 'krasnodar',
    '95.': 'yekaterinburg',
    '195.': 'novosibirsk',
    '196.': 'chechnya',
    '185.': 'dagestan'
  }

  for (const [prefix, region] of Object.entries(regionMap)) {
    if (ip.startsWith(prefix)) {
      return region
    }
  }
  
  return 'moscow' // По умолчанию Москва
}
